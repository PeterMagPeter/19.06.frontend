{"ast":null,"code":"import styles from\"./GameField.module.css\";import{useEffect,useState,useRef}from\"react\";import{Button,Image,Modal}from\"react-bootstrap\";import io from\"socket.io-client\";import{useSelector}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import logoPic from\"../../../assets/pictures/cof_logo.png\";import smallShip from\"../../../assets/pictures/Schiffe/StandardPNG/holes/2.png\";import mediumShip from\"../../../assets/pictures/Schiffe/StandardPNG/holes/3.png\";import largeShip from\"../../../assets/pictures/Schiffe/StandardPNG/holes/4.png\";import xlargeShip from\"../../../assets/pictures/Schiffe/StandardPNG/holes/5.png\";import smallShipR from\"../../../assets/pictures/Schiffe/StandardPNG/holes/2r.png\";import mediumShipR from\"../../../assets/pictures/Schiffe/StandardPNG/holes/3r.png\";import largeShipR from\"../../../assets/pictures/Schiffe/StandardPNG/holes/4r.png\";import xlargeShipR from\"../../../assets/pictures/Schiffe/StandardPNG/holes/5r.png\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const server=process.env.REACT_APP_API_SERVER_URL;const fieldSize=10;let hiddenLayout=Array.from({length:fieldSize},()=>Array(fieldSize).fill(null));const waitingTime=700;const shootingTimer=600;const modalTime=1000;const afterModalTime=1000;export default function GameField(){console.log(server);// Ships\n// const ships: ShipTemplate[] = [\n//   { startX: 2, startY: 0, length: 2, direction: \"Y\", identifier: \"2a\" },\n//   { startX: 0, startY: 4, length: 5, direction: \"X\", identifier: \"5\" },\n// ];\n// Player\nlet username=useSelector(state=>state.userReducer.username);let ownShips=useSelector(state=>state.userReducer.ships);let difficulty=useSelector(state=>state.userReducer.aiDifficulty);let cooldown=useRef(false);const[enemyShips,setEnemyShips]=useState([]);// const [enabledPlayer, setEnabledPlayer] = useState<string>(username);\nlet enabledPlayer=useRef(username);let nextShooter=useRef(username);const[whosTurn,setWhosTurn]=useState(false);const navigate=useNavigate();// Martyna ----------\nfunction positionToString(position){return position.x.toString()+position.y.toString();}// -----------------------------\n// Websocket---------------------\nconst[socket,setSocket]=useState();useEffect(()=>{// websocket connects to server\nconst newSocket=io(\"\".concat(server));newSocket.on(\"connect\",()=>{newSocket.emit(\"sendShipPlacement\",ownShips,username,difficulty);// setTimeout(()=> navigate(\"/timeout\"), 150000)\n});newSocket.on(\"hitEvent\",body=>{setHitEvent(body.x,body.y,body.username,body.hit,body.switchTo);});newSocket.on(\"shipDestroyed\",(body,shooter)=>{// schiff und der der geschossen hat\nsetShipDestroyed(body,shooter);});newSocket.on(\"gameOver\",body=>{// bekommt gewinner namen\nif(body.username===username){navigate(\"/win\");}else{navigate(\"/loose\");}});// need to set the socket at bottom to emit something\nsetSocket(newSocket);return()=>{newSocket.disconnect();};},[server]);// set backgroundcolor/ classname of button\nconst changeColor=(button,event)=>{if(button){button.classList.forEach(className=>button.classList.remove(className));if(event===\"Hit\"){// button.innerHTML = \"X\";\nbutton.setAttribute(\"data-state\",\"X\");button.classList.add(styles.Hit);}else if(event===\"Miss\"){// button.innerHTML = \"O\";\nbutton.setAttribute(\"data-state\",\"O\");button.classList.add(styles.Miss);}else if(event===\"Destroyed\"){// button.innerHTML = \"\";\nbutton.setAttribute(\"data-state\",\"D\");button.classList.add(styles.Destroyed);}}};// Functions that the Player sends\nfunction sendShot(position){let id=positionToString(position);const button=document.getElementById(id);let newX=position.x;let body={x:newX,y:position.y,username:username};// console.log(body, \" sendShot body\")\nif(button&&button.getAttribute(\"data-state\")===\"\")if(socket){socket.emit(\"sendShot\",body);}}// Funktionen die Websocket aufruft------------\n// Websocket ruft auf und setzt das Feld auf die passende Farbe.\nfunction setHitEvent(x,y,shooter,hit,switchTo){let position={x:x,y:y};let id=positionToString(position);if(username!==shooter)id=id+\"E\";const button=document.getElementById(id);// console.log(id, hit, username, shooter);\nlet booli=hit?\"Hit\":\"Miss\";if(button){changeColor(button,booli);}console.log(\"setHit\",switchTo,enabledPlayer.current);nextShooter.current=switchTo;cooldown.current=true;setTimeout(()=>{cooldown.current=false;if(switchTo!==enabledPlayer.current){// setEnabledPlayer(switchTo);\nchangeEnabledPlayer(switchTo);}},shootingTimer);}// Websocket setzt ein Schiff auf zerst√∂rt und es wird damit sichtbar\nfunction setShipDestroyed(ship,shooter){console.log(JSON.stringify(ship),\" shooter: \",shooter);let positions=[{x:0,y:0}];for(let i=0;i<ship.length;i++){positions[i]=ship.direction===\"X\"?{x:ship.startX+i,y:ship.startY}:{x:ship.startX,y:ship.startY+i};}positions.forEach(position=>{let id=positionToString(position);if(username!==shooter)id=id+\"E\";const button=document.getElementById(id);if(button){changeColor(button,\"Destroyed\");}});if(shooter===username)setEnemyShips(prevShips=>[...prevShips,ship]);}const generateShips=ships=>{const divs=[];// Generate own ships\nfor(let i=0;i<ships.length;i++){let s=ships[i];let startRow=s.startX+2;let startColumn=s.startY+2;let endColumn,endRow;let shipImage=smallShip;if(s.direction===\"X\"){endRow=startRow+s.length;endColumn=startColumn;switch(s.length){case 2:shipImage=smallShip;break;case 3:shipImage=mediumShip;break;case 4:shipImage=largeShip;break;case 5:shipImage=xlargeShip;break;default:break;}}else{endRow=startRow;endColumn=startColumn+s.length;switch(s.length){case 2:shipImage=smallShipR;break;case 3:shipImage=mediumShipR;break;case 4:shipImage=largeShipR;break;case 5:shipImage=xlargeShipR;break;default:break;}}divs.push(/*#__PURE__*/_jsx(\"div\",{style:{gridColumn:\"\".concat(startRow,\" / \").concat(endRow),gridRow:\"\".concat(startColumn,\" / \").concat(endColumn)},className:styles.miniContainer,children:/*#__PURE__*/_jsx(Image,{className:styles.miniImagesW,src:shipImage})},i));}return divs;};const whichTurn=username===enabledPlayer.current;const changeEnabledPlayer=switchTo=>{// shows whos turn it is as Modal\nconsole.log(switchTo,enabledPlayer.current);showWhosTurn();setTimeout(()=>{enabledPlayer.current=switchTo;},afterModalTime);cooldown.current=false;};const showWhosTurn=()=>{setWhosTurn(true);setTimeout(()=>{setWhosTurn(false);},modalTime);};const addEnemyShip=()=>{setEnemyShips(prevShips=>[...prevShips,ownShips[enemyShips.length]]);console.log(enemyShips);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsx(Image,{className:styles.Logo,src:logoPic}),/*#__PURE__*/_jsxs(\"div\",{className:styles.whosTurn,children:[\" \",/*#__PURE__*/_jsx(\"a\",{className:styles.playerName,children:enabledPlayer.current}),\"'s TURN\"]}),/*#__PURE__*/_jsxs(\"div\",{className:whichTurn?styles.GameField:styles.Ownboard,children:[generateShips(enemyShips),Array.from({length:fieldSize},(_,index)=>{let letter=String.fromCharCode(\"A\".charCodeAt(0)+index);let letter2=whichTurn?letter:letter+\"E\";return/*#__PURE__*/_jsx(\"div\",{className:styles[letter2],children:/*#__PURE__*/_jsx(\"p\",{children:letter})});}),Array.from({length:fieldSize},(_,index)=>{let num=index+1;let s=whichTurn?\"\":\"E\";let num2=\"N\"+num+s;return/*#__PURE__*/_jsx(\"div\",{className:styles[num2],children:/*#__PURE__*/_jsx(\"p\",{children:index+1})});}),hiddenLayout.map((row,rowIndex)=>{let letter=String.fromCharCode(\"A\".charCodeAt(0)+rowIndex);return row.map((item,itemIndex)=>{let s=whichTurn?\"\":\"E\";let coordinate=letter+(itemIndex+1)+s;let id=positionToString({x:rowIndex,y:itemIndex});const button=document.getElementById(id);let newButton=styles.button;if(button){newButton=button.getAttribute(\"data-state\")===\"X\"?styles.Hit:button.getAttribute(\"data-state\")===\"D\"?styles.Destroyed:button.getAttribute(\"data-state\")===\"O\"?styles.Miss:styles.button;}return/*#__PURE__*/_jsx(\"div\",{className:styles[coordinate],children:/*#__PURE__*/_jsx(\"button\",{\"data-state\":\"\",className:newButton,id:positionToString({x:rowIndex,y:itemIndex}),onClick:()=>{if(whichTurn&&!cooldown.current){sendShot({x:rowIndex,y:itemIndex});}}})});});})]}),/*#__PURE__*/_jsxs(\"div\",{className:!whichTurn?styles.GameField:styles.Ownboard,children:[generateShips(ownShips),Array.from({length:fieldSize},(_,index)=>{let letter=String.fromCharCode(\"A\".charCodeAt(0)+index);let letter2=!whichTurn?letter:letter+\"E\";return/*#__PURE__*/_jsx(\"div\",{className:styles[letter2],children:letter});}),Array.from({length:fieldSize},(_,index)=>{let num=index+1;let s=!whichTurn?\"\":\"E\";let num2=\"N\"+num+s;return/*#__PURE__*/_jsx(\"div\",{className:styles[num2],children:index+1});}),hiddenLayout.map((row,rowIndex)=>{let letter=String.fromCharCode(\"A\".charCodeAt(0)+rowIndex);return row.map((item,itemIndex)=>{let s=!whichTurn?\"\":\"E\";let coordinate=letter+(itemIndex+1)+s;let id=positionToString({x:rowIndex,y:itemIndex})+\"E\";const button=document.getElementById(id);let newButton=styles.button;if(button){newButton=button.getAttribute(\"data-state\")===\"X\"?styles.Hit:button.getAttribute(\"data-state\")===\"D\"?styles.Destroyed:button.getAttribute(\"data-state\")===\"O\"?styles.Miss:styles.buttonE;}return/*#__PURE__*/_jsx(\"div\",{className:styles[coordinate],children:/*#__PURE__*/_jsx(\"button\",{\"data-state\":\"\",className:newButton,id:positionToString({x:rowIndex,y:itemIndex})+\"E\"})});});})]}),/*#__PURE__*/_jsxs(Button,{className:styles.Emotes// onClick={() => changeEnabledPlayer(\"ki\")}\n,variant:\"secondary\",children:[\" \",\"Emotes\"]}),/*#__PURE__*/_jsx(Modal,{show:whosTurn,onHide:()=>setWhosTurn(false),backdrop:\"static\",keyboard:false,centered:true,animation:true,className:\"blur-background\",children:/*#__PURE__*/_jsxs(Modal.Title,{className:styles.modalText,children:[nextShooter.current,\" ist jetzt dran\"]})})]})});}","map":{"version":3,"names":["styles","useEffect","useState","useRef","Button","Image","Modal","io","useSelector","useNavigate","logoPic","smallShip","mediumShip","largeShip","xlargeShip","smallShipR","mediumShipR","largeShipR","xlargeShipR","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","server","process","env","REACT_APP_API_SERVER_URL","fieldSize","hiddenLayout","Array","from","length","fill","waitingTime","shootingTimer","modalTime","afterModalTime","GameField","console","log","username","state","userReducer","ownShips","ships","difficulty","aiDifficulty","cooldown","enemyShips","setEnemyShips","enabledPlayer","nextShooter","whosTurn","setWhosTurn","navigate","positionToString","position","x","toString","y","socket","setSocket","newSocket","concat","on","emit","body","setHitEvent","hit","switchTo","shooter","setShipDestroyed","disconnect","changeColor","button","event","classList","forEach","className","remove","setAttribute","add","Hit","Miss","Destroyed","sendShot","id","document","getElementById","newX","getAttribute","booli","current","setTimeout","changeEnabledPlayer","ship","JSON","stringify","positions","i","direction","startX","startY","prevShips","generateShips","divs","s","startRow","startColumn","endColumn","endRow","shipImage","push","style","gridColumn","gridRow","miniContainer","children","miniImagesW","src","whichTurn","showWhosTurn","addEnemyShip","container","Logo","playerName","Ownboard","_","index","letter","String","fromCharCode","charCodeAt","letter2","num","num2","map","row","rowIndex","item","itemIndex","coordinate","newButton","onClick","buttonE","Emotes","variant","show","onHide","backdrop","keyboard","centered","animation","Title","modalText"],"sources":["C:/Users/smhof/Downloads/19.06/19.06.frontend/src/components/Game/Gamefield/GameField.tsx"],"sourcesContent":["import styles from \"./GameField.module.css\";\r\nimport { useEffect, useState, useRef } from \"react\";\r\nimport { Button, Image, Modal } from \"react-bootstrap\";\r\nimport io from \"socket.io-client\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport logoPic from \"../../../assets/pictures/cof_logo.png\";\r\nimport { ShipTemplate } from \"../../reducer/TestReducer\";\r\nimport smallShip from \"../../../assets/pictures/Schiffe/StandardPNG/holes/2.png\";\r\nimport mediumShip from \"../../../assets/pictures/Schiffe/StandardPNG/holes/3.png\";\r\nimport largeShip from \"../../../assets/pictures/Schiffe/StandardPNG/holes/4.png\";\r\nimport xlargeShip from \"../../../assets/pictures/Schiffe/StandardPNG/holes/5.png\";\r\nimport smallShipR from \"../../../assets/pictures/Schiffe/StandardPNG/holes/2r.png\";\r\nimport mediumShipR from \"../../../assets/pictures/Schiffe/StandardPNG/holes/3r.png\";\r\nimport largeShipR from \"../../../assets/pictures/Schiffe/StandardPNG/holes/4r.png\";\r\nimport xlargeShipR from \"../../../assets/pictures/Schiffe/StandardPNG/holes/5r.png\";\r\n\r\nconst server = process.env.REACT_APP_API_SERVER_URL;\r\nconst fieldSize = 10;\r\nlet hiddenLayout = Array.from({ length: fieldSize }, () =>\r\n  Array(fieldSize).fill(null)\r\n);\r\nconst waitingTime: number = 700;\r\nconst shootingTimer: number = 600;\r\nconst modalTime = 1000;\r\nconst afterModalTime: number = 1000;\r\nexport default function GameField() {\r\n  console.log(server);\r\n  // Ships\r\n  // const ships: ShipTemplate[] = [\r\n  //   { startX: 2, startY: 0, length: 2, direction: \"Y\", identifier: \"2a\" },\r\n  //   { startX: 0, startY: 4, length: 5, direction: \"X\", identifier: \"5\" },\r\n  // ];\r\n\r\n  // Player\r\n  let username = useSelector((state: any) => state.userReducer.username);\r\n  let ownShips = useSelector((state: any) => state.userReducer.ships);\r\n  let difficulty = useSelector((state: any) => state.userReducer.aiDifficulty);\r\n  let cooldown = useRef<Boolean>(false);\r\n  const [enemyShips, setEnemyShips] = useState<ShipTemplate[]>([]);\r\n  // const [enabledPlayer, setEnabledPlayer] = useState<string>(username);\r\n  let enabledPlayer = useRef<string>(username);\r\n  let nextShooter = useRef<string>(username);\r\n  const [whosTurn, setWhosTurn] = useState<boolean>(false);\r\n  const navigate = useNavigate();\r\n  // Martyna ----------\r\n  type Position = { x: number; y: number };\r\n\r\n  function positionToString(position: Position): string {\r\n    return position.x.toString() + position.y.toString();\r\n  }\r\n  // -----------------------------\r\n  // Websocket---------------------\r\n  const [socket, setSocket] = useState<any>();\r\n  useEffect(() => {\r\n    // websocket connects to server\r\n    const newSocket: any = io(`${server}`);\r\n    newSocket.on(\"connect\", () => {\r\n      newSocket.emit(\"sendShipPlacement\", ownShips, username, difficulty);\r\n      // setTimeout(()=> navigate(\"/timeout\"), 150000)\r\n    });\r\n\r\n    newSocket.on(\"hitEvent\", (body: any) => {\r\n      setHitEvent(body.x, body.y, body.username, body.hit, body.switchTo);\r\n    });\r\n    newSocket.on(\"shipDestroyed\", (body: ShipTemplate, shooter: string) => {\r\n      // schiff und der der geschossen hat\r\n      setShipDestroyed(body, shooter);\r\n    });\r\n    newSocket.on(\"gameOver\", (body: any) => {\r\n      // bekommt gewinner namen\r\n      if (body.username === username) {\r\n        navigate(\"/win\");\r\n      } else {\r\n        navigate(\"/loose\");\r\n      }\r\n    });\r\n\r\n    // need to set the socket at bottom to emit something\r\n    setSocket(newSocket);\r\n\r\n    return () => {\r\n      newSocket.disconnect();\r\n    };\r\n  }, [server]);\r\n  // set backgroundcolor/ classname of button\r\n  const changeColor = (button: HTMLElement, event: string) => {\r\n    if (button) {\r\n      button.classList.forEach((className) =>\r\n        button.classList.remove(className)\r\n      );\r\n      if (event === \"Hit\") {\r\n        // button.innerHTML = \"X\";\r\n        button.setAttribute(\"data-state\", \"X\");\r\n        button.classList.add(styles.Hit);\r\n      } else if (event === \"Miss\") {\r\n        // button.innerHTML = \"O\";\r\n        button.setAttribute(\"data-state\", \"O\");\r\n        button.classList.add(styles.Miss);\r\n      } else if (event === \"Destroyed\") {\r\n        // button.innerHTML = \"\";\r\n        button.setAttribute(\"data-state\", \"D\");\r\n        button.classList.add(styles.Destroyed);\r\n      }\r\n    }\r\n  };\r\n  // Functions that the Player sends\r\n  function sendShot(position: Position) {\r\n    let id = positionToString(position);\r\n    const button = document.getElementById(id);\r\n    let newX = position.x;\r\n    let body = { x: newX, y: position.y, username: username };\r\n    // console.log(body, \" sendShot body\")\r\n    if (button && button.getAttribute(\"data-state\") === \"\")\r\n      if (socket) {\r\n        socket.emit(\"sendShot\", body);\r\n      }\r\n  }\r\n  // Funktionen die Websocket aufruft------------\r\n  // Websocket ruft auf und setzt das Feld auf die passende Farbe.\r\n  function setHitEvent(\r\n    x: number,\r\n    y: number,\r\n    shooter: string,\r\n    hit: boolean,\r\n    switchTo: string\r\n  ) {\r\n    let position = { x: x, y: y };\r\n    let id = positionToString(position);\r\n    if (username !== shooter) id = id + \"E\";\r\n    const button = document.getElementById(id);\r\n    // console.log(id, hit, username, shooter);\r\n    let booli = hit ? \"Hit\" : \"Miss\";\r\n    if (button) {\r\n      changeColor(button, booli);\r\n    }\r\n    console.log(\"setHit\", switchTo, enabledPlayer.current);\r\n    nextShooter.current = switchTo;\r\n    cooldown.current = true;\r\n    setTimeout(() => {\r\n      cooldown.current = false;\r\n      if (switchTo !== enabledPlayer.current) {\r\n        // setEnabledPlayer(switchTo);\r\n        changeEnabledPlayer(switchTo);\r\n      }\r\n    }, shootingTimer);\r\n  }\r\n  // Websocket setzt ein Schiff auf zerst√∂rt und es wird damit sichtbar\r\n  function setShipDestroyed(ship: ShipTemplate, shooter: string) {\r\n    console.log(JSON.stringify(ship), \" shooter: \", shooter);\r\n    let positions: Position[] = [{ x: 0, y: 0 }];\r\n    for (let i = 0; i < ship.length; i++) {\r\n      positions[i] =\r\n        ship.direction === \"X\"\r\n          ? { x: ship.startX + i, y: ship.startY }\r\n          : { x: ship.startX, y: ship.startY + i };\r\n    }\r\n    positions.forEach((position) => {\r\n      let id = positionToString(position);\r\n      if (username !== shooter) id = id + \"E\";\r\n      const button = document.getElementById(id);\r\n      if (button) {\r\n        changeColor(button, \"Destroyed\");\r\n      }\r\n    });\r\n    if (shooter === username)\r\n      setEnemyShips((prevShips) => [...prevShips, ship]);\r\n  }\r\n\r\n  const generateShips = (ships: ShipTemplate[]) => {\r\n    const divs = [];\r\n    // Generate own ships\r\n    for (let i = 0; i < ships.length; i++) {\r\n      let s = ships[i];\r\n      let startRow = s.startX + 2;\r\n      let startColumn = s.startY + 2;\r\n      let endColumn, endRow;\r\n      let shipImage = smallShip;\r\n\r\n      if (s.direction === \"X\") {\r\n        endRow = startRow + s.length;\r\n        endColumn = startColumn;\r\n        switch (s.length) {\r\n          case 2:\r\n            shipImage = smallShip;\r\n            break;\r\n          case 3:\r\n            shipImage = mediumShip;\r\n            break;\r\n          case 4:\r\n            shipImage = largeShip;\r\n            break;\r\n          case 5:\r\n            shipImage = xlargeShip;\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      } else {\r\n        endRow = startRow;\r\n        endColumn = startColumn + s.length;\r\n        switch (s.length) {\r\n          case 2:\r\n            shipImage = smallShipR;\r\n            break;\r\n          case 3:\r\n            shipImage = mediumShipR;\r\n            break;\r\n          case 4:\r\n            shipImage = largeShipR;\r\n            break;\r\n          case 5:\r\n            shipImage = xlargeShipR;\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n      divs.push(\r\n        <div\r\n          style={{\r\n            gridColumn: `${startRow} / ${endRow}`,\r\n            gridRow: `${startColumn} / ${endColumn}`,\r\n          }}\r\n          className={styles.miniContainer}\r\n          key={i}\r\n        >\r\n          <Image className={styles.miniImagesW} src={shipImage} />\r\n        </div>\r\n      );\r\n    }\r\n    return divs;\r\n  };\r\n\r\n  const whichTurn: boolean = username === enabledPlayer.current;\r\n\r\n  const changeEnabledPlayer = (switchTo: string) => {\r\n    // shows whos turn it is as Modal\r\n    console.log(switchTo, enabledPlayer.current);\r\n    showWhosTurn();\r\n    setTimeout(() => {\r\n      enabledPlayer.current = switchTo;\r\n    }, afterModalTime);\r\n\r\n    cooldown.current = false;\r\n  };\r\n  const showWhosTurn = () => {\r\n    setWhosTurn(true);\r\n    setTimeout(() => {\r\n      setWhosTurn(false);\r\n    }, modalTime);\r\n  };\r\n  const addEnemyShip = () => {\r\n    setEnemyShips((prevShips) => [...prevShips, ownShips[enemyShips.length]]);\r\n    console.log(enemyShips);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.container}>\r\n        <Image className={styles.Logo} src={logoPic} />\r\n        <div className={styles.whosTurn}> <a className={styles.playerName}>{enabledPlayer.current}</a>'s TURN</div>\r\n        {/* GAME FIELD WHERE PLAYER IS PLAYING */}\r\n        <div className={whichTurn ? styles.GameField : styles.Ownboard}>\r\n          {generateShips(enemyShips)}\r\n          {Array.from({ length: fieldSize }, (_, index) => {\r\n            let letter = String.fromCharCode(\"A\".charCodeAt(0) + index);\r\n            let letter2 = whichTurn ? letter : letter + \"E\";\r\n            return (\r\n              <div className={styles[letter2]}>\r\n                <p>{letter}</p>\r\n              </div>\r\n            );\r\n          })}\r\n          {Array.from({ length: fieldSize }, (_, index) => {\r\n            let num = index + 1;\r\n            let s = whichTurn ? \"\" : \"E\";\r\n            let num2 = \"N\" + num + s;\r\n            return (\r\n              <div className={styles[num2]}>\r\n                <p>{index + 1}</p>\r\n              </div>\r\n            );\r\n          })}\r\n          {hiddenLayout.map((row, rowIndex) => {\r\n            let letter = String.fromCharCode(\"A\".charCodeAt(0) + rowIndex);\r\n            return row.map((item, itemIndex) => {\r\n              let s = whichTurn ? \"\" : \"E\";\r\n              let coordinate = letter + (itemIndex + 1) + s;\r\n              let id = positionToString({ x: rowIndex, y: itemIndex });\r\n              const button = document.getElementById(id);\r\n              let newButton = styles.button;\r\n              if (button) {\r\n                newButton =\r\n                  button.getAttribute(\"data-state\") === \"X\"\r\n                    ? styles.Hit\r\n                    : button.getAttribute(\"data-state\") === \"D\"\r\n                    ? styles.Destroyed\r\n                    : button.getAttribute(\"data-state\") === \"O\"\r\n                    ? styles.Miss\r\n                    : styles.button;\r\n              }\r\n              return (\r\n                <div className={styles[coordinate]}>\r\n                  <button\r\n                    data-state=\"\"\r\n                    className={newButton}\r\n                    id={positionToString({\r\n                      x: rowIndex,\r\n                      y: itemIndex,\r\n                    })}\r\n                    onClick={() => {\r\n                      if (whichTurn && !cooldown.current) {\r\n                        sendShot({\r\n                          x: rowIndex,\r\n                          y: itemIndex,\r\n                        });\r\n                      }\r\n                    }}\r\n                  ></button>\r\n                </div>\r\n              );\r\n            });\r\n          })}\r\n        </div>\r\n        {/* OWN BOARD WHERE ENEMY IS PLAYING */}\r\n        <div className={!whichTurn ? styles.GameField : styles.Ownboard}>\r\n          {generateShips(ownShips)}\r\n\r\n          {Array.from({ length: fieldSize }, (_, index) => {\r\n            let letter = String.fromCharCode(\"A\".charCodeAt(0) + index);\r\n            let letter2 = !whichTurn ? letter : letter + \"E\";\r\n            return <div className={styles[letter2]}>{letter}</div>;\r\n          })}\r\n          {Array.from({ length: fieldSize }, (_, index) => {\r\n            let num = index + 1;\r\n            let s = !whichTurn ? \"\" : \"E\";\r\n            let num2 = \"N\" + num + s;\r\n            return <div className={styles[num2]}>{index + 1}</div>;\r\n          })}\r\n          {hiddenLayout.map((row, rowIndex) => {\r\n            let letter = String.fromCharCode(\"A\".charCodeAt(0) + rowIndex);\r\n            return row.map((item, itemIndex) => {\r\n              let s = !whichTurn ? \"\" : \"E\";\r\n              let coordinate = letter + (itemIndex + 1) + s;\r\n\r\n              let id = positionToString({ x: rowIndex, y: itemIndex }) + \"E\";\r\n              const button = document.getElementById(id);\r\n              let newButton = styles.button;\r\n              if (button) {\r\n                newButton =\r\n                  button.getAttribute(\"data-state\") === \"X\"\r\n                    ? styles.Hit\r\n                    : button.getAttribute(\"data-state\") === \"D\"\r\n                    ? styles.Destroyed\r\n                    : button.getAttribute(\"data-state\") === \"O\"\r\n                    ? styles.Miss\r\n                    : styles.buttonE;\r\n              }\r\n              return (\r\n                <div className={styles[coordinate]}>\r\n                  <button\r\n                    data-state=\"\"\r\n                    className={newButton}\r\n                    id={\r\n                      positionToString({\r\n                        x: rowIndex,\r\n                        y: itemIndex,\r\n                      }) + \"E\"\r\n                    }\r\n                  ></button>\r\n                </div>\r\n              );\r\n            });\r\n          })}\r\n        </div>\r\n        <Button\r\n          className={styles.Emotes}\r\n          // onClick={() => changeEnabledPlayer(\"ki\")}\r\n          variant=\"secondary\"\r\n        >\r\n          {\" \"}\r\n          Emotes\r\n        </Button>\r\n        {/* <Button onClick={addEnemyShip}> add enemy ship Destroyed</Button> */}\r\n        <Modal\r\n          show={whosTurn}\r\n          onHide={() => setWhosTurn(false)}\r\n          backdrop=\"static\"\r\n          keyboard={false}\r\n          centered\r\n          animation={true}\r\n          className=\"blur-background\"\r\n        >\r\n          <Modal.Title className={styles.modalText}>\r\n            {nextShooter.current} ist jetzt dran\r\n          </Modal.Title>\r\n        </Modal>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
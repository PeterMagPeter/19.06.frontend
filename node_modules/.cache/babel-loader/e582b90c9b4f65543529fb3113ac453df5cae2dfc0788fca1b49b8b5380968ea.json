{"ast":null,"code":"import{useState}from\"react\";import{useDispatch}from\"react-redux\";import styles from\"./Registration.module.css\";import{useNavigate}from\"react-router-dom\";import{Form,Button,Container,Alert,Image}from\"react-bootstrap\";import Logo from\"../../assets/pictures/cof_logo.png\";import{postUser}from\"../../backendAPI/userAPI\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Registration(){const dispatch=useDispatch();const navigate=useNavigate();const[email,setEmail]=useState(\"\");const[emailVerify,setEmailVerify]=useState(\"\");const[password,setPassword]=useState(\"\");const[passwordVerify,setPasswordVerify]=useState(\"\");const[emailConfirmed,setEmailConfirmed]=useState(false);const[passwordConfirmed,setPasswordConfirmed]=useState(false);const[username,setUsername]=useState(\"\");let newUser;const handleRegisterButton=async e=>{e.preventDefault();// erst wenn beides true ist wird die anfrage gesendet\n// leider nicht in real time hinbekommen\nif(email===emailVerify){setEmailConfirmed(true);//return;\n}else setEmailConfirmed(true);if(password===passwordVerify){setPasswordConfirmed(true);//return;\n}else setPasswordConfirmed(true);console.log(process.env.REACT_APP_API_SERVER_URL);newUser=await postUser({email:email,password:password,username:username});navigate(\"/\");console.log(newUser);// wenn passwort und email übereinstimmen soll der user angelegt werden\n// nachdem überprüft wurde ob der username schon existiert oder nicht\n};return/*#__PURE__*/_jsxs(Container,{className:styles.container,children:[/*#__PURE__*/_jsx(Container,{className:styles.Logo,children:/*#__PURE__*/_jsx(Image,{src:Logo})}),/*#__PURE__*/_jsxs(Form,{className:styles.RegistrationForm,children:[/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",children:/*#__PURE__*/_jsx(Form.Control,{id:\"username\",type:\"text\",value:username,placeholder:\"Enter Username\",onChange:e=>setUsername(e.target.value),autoFocus:true,required:true})}),/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",children:/*#__PURE__*/_jsx(Form.Control,{id:\"EmailInput\",type:\"text\",value:email,placeholder:\"Email\",onChange:e=>setEmail(e.target.value),autoFocus:true,required:true})}),/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",children:/*#__PURE__*/_jsx(Form.Control,{id:\"EmailVerify\",className:emailConfirmed?\"\":styles.redBorder,type:\"text\",value:emailVerify,placeholder:\"Email best\\xE4tigen\",onChange:e=>setEmailVerify(e.target.value),autoFocus:true,required:true})}),/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",children:/*#__PURE__*/_jsx(Form.Control,{id:\"PasswordInput\",type:\"password\",value:password,placeholder:\"Password\",onChange:e=>setPassword(e.target.value)})}),/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",children:/*#__PURE__*/_jsx(Form.Control,{id:\"PasswordVerify\",className:passwordConfirmed?\"\":styles.redBorder,type:\"password\",value:passwordVerify,placeholder:\"Password best\\xE4tigen\",onChange:e=>setPasswordVerify(e.target.value)})}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",className:\"w-100\",onClick:e=>handleRegisterButton(e),children:\"Register\"}),/*#__PURE__*/_jsxs(Alert,{variant:\"secondary\",className:\"text-center mt-3\",children:[\"Already have an account? \",\"\\n\",/*#__PURE__*/_jsx(Alert.Link,{onClick:()=>navigate(\"/\"),children:\"Sign in\"})]})]})]});}","map":{"version":3,"names":["useState","useDispatch","styles","useNavigate","Form","Button","Container","Alert","Image","Logo","postUser","jsx","_jsx","jsxs","_jsxs","Registration","dispatch","navigate","email","setEmail","emailVerify","setEmailVerify","password","setPassword","passwordVerify","setPasswordVerify","emailConfirmed","setEmailConfirmed","passwordConfirmed","setPasswordConfirmed","username","setUsername","newUser","handleRegisterButton","e","preventDefault","console","log","process","env","REACT_APP_API_SERVER_URL","className","container","children","src","RegistrationForm","Group","Control","id","type","value","placeholder","onChange","target","autoFocus","required","redBorder","variant","onClick","Link"],"sources":["C:/Users/smhof/Downloads/19.06/19.06.frontend/src/components/Registration/Registration.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport styles from \"./Registration.module.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Form, Button, Container, Alert, Image } from \"react-bootstrap\";\r\nimport Logo from \"../../assets/pictures/cof_logo.png\";\r\nimport { postUser } from \"../../backendAPI/userAPI\";\r\nimport { UserResource } from \"../../Resources\";\r\nimport { setUser } from \"../reducer/TestReducer\";\r\n\r\nexport default function Registration() {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [emailVerify, setEmailVerify] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [passwordVerify, setPasswordVerify] = useState(\"\");\r\n  const [emailConfirmed, setEmailConfirmed] = useState(false);\r\n  const [passwordConfirmed, setPasswordConfirmed] = useState(false);\r\n  const [username, setUsername] = useState(\"\");\r\n  let newUser: UserResource | null;\r\n\r\n  const handleRegisterButton = async (e: any) => {\r\n    e.preventDefault();\r\n    // erst wenn beides true ist wird die anfrage gesendet\r\n    // leider nicht in real time hinbekommen\r\n    if (email === emailVerify) {\r\n      setEmailConfirmed(true);\r\n      //return;\r\n    } else setEmailConfirmed(true);\r\n    if (password === passwordVerify) {\r\n      setPasswordConfirmed(true);\r\n      //return;\r\n    } else setPasswordConfirmed(true);\r\n    console.log(process.env.REACT_APP_API_SERVER_URL)\r\n    newUser = await postUser({\r\n      email: email,\r\n      password: password,\r\n      username: username,\r\n    });\r\n\r\n    navigate(\"/\")\r\n    \r\n    console.log(newUser)\r\n    // wenn passwort und email übereinstimmen soll der user angelegt werden\r\n    // nachdem überprüft wurde ob der username schon existiert oder nicht\r\n  };\r\n  return (\r\n    <Container className={styles.container}>\r\n      <Container className={styles.Logo}>\r\n        <Image src={Logo} />\r\n      </Container>\r\n      <Form className={styles.RegistrationForm}>\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Control\r\n            id=\"username\"\r\n            type=\"text\"\r\n            value={username}\r\n            placeholder=\"Enter Username\"\r\n            onChange={(e) => setUsername(e.target.value)}\r\n            autoFocus\r\n            required\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Control\r\n            id=\"EmailInput\"\r\n            type=\"text\"\r\n            value={email}\r\n            placeholder=\"Email\"\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            autoFocus\r\n            required\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Control\r\n            id=\"EmailVerify\"\r\n            className={emailConfirmed ? \"\" : styles.redBorder}\r\n            type=\"text\"\r\n            value={emailVerify}\r\n            placeholder=\"Email bestätigen\"\r\n            onChange={(e) => setEmailVerify(e.target.value)}\r\n            autoFocus\r\n            required\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Control\r\n            id=\"PasswordInput\"\r\n            type=\"password\"\r\n            value={password}\r\n            placeholder=\"Password\"\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Control\r\n            id=\"PasswordVerify\"\r\n            className={passwordConfirmed ? \"\" : styles.redBorder}\r\n            type=\"password\"\r\n            value={passwordVerify}\r\n            placeholder=\"Password bestätigen\"\r\n            onChange={(e) => setPasswordVerify(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Button\r\n          variant=\"primary\"\r\n          type=\"submit\"\r\n          className=\"w-100\"\r\n          onClick={(e) => handleRegisterButton(e)}\r\n        >\r\n          Register\r\n        </Button>\r\n        <Alert variant=\"secondary\" className=\"text-center mt-3\">\r\n          Already have an account? {\"\\n\"}\r\n          <Alert.Link onClick={() => navigate(\"/\")}>Sign in</Alert.Link>\r\n        </Alert>\r\n      </Form>\r\n    </Container>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}